{"ast":null,"code":"// src/components/ProtectedRoute.jsx\nimport{useEffect,useState}from\"react\";import{onAuthStateChanged}from\"firebase/auth\";import{auth}from\"../firebase/firebase\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function ProtectedRoute(_ref){let{children}=_ref;const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const unsub=onAuthStateChanged(auth,currentUser=>{setUser(currentUser);setLoading(false);});return()=>unsub();},[]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F...\"});return user?children:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}","map":{"version":3,"names":["useEffect","useState","onAuthStateChanged","auth","Navigate","jsx","_jsx","ProtectedRoute","_ref","children","user","setUser","loading","setLoading","unsub","currentUser","to"],"sources":["/Users/andrijzuk/AndriZhok.github.io/lab5/client/src/components/ProtectedRoute.jsx"],"sourcesContent":["// src/components/ProtectedRoute.jsx\nimport { useEffect, useState } from \"react\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { auth } from \"../firebase/firebase\";\nimport { Navigate } from \"react-router-dom\";\n\nexport default function ProtectedRoute({ children }) {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsub = onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser);\n      setLoading(false);\n    });\n    return () => unsub();\n  }, []);\n\n  if (loading) return <p>Завантаження...</p>;\n\n  return user ? children : <Navigate to=\"/login\" />;\n}"],"mappings":"AAAA;AACA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,kBAAkB,KAAQ,eAAe,CAClD,OAASC,IAAI,KAAQ,sBAAsB,CAC3C,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5C,cAAe,SAAS,CAAAC,cAAcA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACjD,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,KAAK,CAAGZ,kBAAkB,CAACC,IAAI,CAAGY,WAAW,EAAK,CACtDJ,OAAO,CAACI,WAAW,CAAC,CACpBF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACF,MAAO,IAAMC,KAAK,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIF,OAAO,CAAE,mBAAON,IAAA,MAAAG,QAAA,CAAG,6EAAe,CAAG,CAAC,CAE1C,MAAO,CAAAC,IAAI,CAAGD,QAAQ,cAAGH,IAAA,CAACF,QAAQ,EAACY,EAAE,CAAC,QAAQ,CAAE,CAAC,CACnD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}